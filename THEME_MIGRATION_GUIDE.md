# Theme Migration Guide: –û—Ç Supabase –∫ .env

## üéØ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å?

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–º—ã —Ç–µ–ø–µ—Ä—å —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `.env.local` —Ñ–∞–π–ª–µ, –∞ –Ω–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö Supabase. –≠—Ç–æ –¥–∞–µ—Ç **–æ–≥—Ä–æ–º–Ω—ã–π –ø—Ä–∏—Ä–æ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**:

- ‚ùå –ë—ã–ª–æ: Database –∑–∞–ø—Ä–æ—Å –Ω–∞ –∫–∞–∂–¥—É—é –∑–∞–≥—Ä—É–∑–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ –°—Ç–∞–ª–æ: –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üìã –®–∞–≥–∏ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏

### 1. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ Supabase

–ü–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º —Ç–∞–±–ª–∏—Ü—ã, —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤–∞—à–∏ —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```sql
SELECT * FROM theme ORDER BY updated_at DESC LIMIT 1;
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local`

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (–µ—Å–ª–∏ –µ–≥–æ –µ—â–µ –Ω–µ—Ç) –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```bash
# Supabase Configuration (—É–∂–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å)
NEXT_PUBLIC_SUPABASE_URL=your-supabase-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Theme Configuration (Homepage & General)
NEXT_PUBLIC_PRIMARY_COLOR=#536C4A
NEXT_PUBLIC_SECONDARY_COLOR=#B0BF93
NEXT_PUBLIC_EVENT_TEXT=Next party is coming soon! Stay tuned!
NEXT_PUBLIC_OFFER_TEXT=Special offer available now!
NEXT_PUBLIC_OFFER_HIDE=false
NEXT_PUBLIC_OFFER_PARTICLES=true
NEXT_PUBLIC_OFFER_COSMIC_GLOW=true
NEXT_PUBLIC_OFFER_FLOATING=true
NEXT_PUBLIC_OFFER_PULSE=true
NEXT_PUBLIC_OFFER_INNER_LIGHT=true

# Menu Theme Configuration
NEXT_PUBLIC_ITEM_TEXT_COLOR=#1f2937
NEXT_PUBLIC_CATEGORY_TEXT_COLOR=#ffffff
NEXT_PUBLIC_CARD_BG_COLOR=#ffffff
NEXT_PUBLIC_FEATURE_COLOR=#536C4A
NEXT_PUBLIC_LEGEND_HYBRID_COLOR=#4f7bff
NEXT_PUBLIC_LEGEND_SATIVA_COLOR=#ff6633
NEXT_PUBLIC_LEGEND_INDICA_COLOR=#38b24f
NEXT_PUBLIC_TIER0_LABEL=1PC
NEXT_PUBLIC_TIER1_LABEL=1G
NEXT_PUBLIC_TIER2_LABEL=5G+
NEXT_PUBLIC_TIER3_LABEL=20G+
```

**–ó–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ –≤–∞—à–∏ —Ç–µ–∫—É—â–∏–µ** –∏–∑ Supabase!

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
npm run dev
```

**–í–∞–∂–Ω–æ!** Next.js —á–∏—Ç–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É - –¥–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è **–º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ**
2. –û—Ç–∫—Ä–æ–π—Ç–µ `/menu` - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ü–≤–µ—Ç–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ç–µ–∫—Å—Ç—ã (event_text, offer_text) –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### 5. –£–¥–∞–ª–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É theme –∏–∑ Supabase

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –≤ Supabase SQL Editor:

```bash
# –§–∞–π–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤:
supabase/drop-theme-table.sql
```

–ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```sql
DROP TABLE IF EXISTS theme CASCADE;
```

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- **10x –±—ã—Å—Ç—Ä–µ–µ –∑–∞–≥—Ä—É–∑–∫–∞**: –ù–µ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –ë–î
- **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°—Ç—Ä–∞–Ω–∏—Ü—ã –∫–µ—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ 1 —á–∞—Å
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º—ã = —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `.env.local` + –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
- **–ú–µ–Ω—å—à–µ –∑–∞—Ç—Ä–∞—Ç**: –ú–µ–Ω—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Supabase

## ‚öôÔ∏è –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–µ–º—É –≤ –±—É–¥—É—â–µ–º?

1. –û—Ç–∫—Ä–æ–π—Ç–µ `.env.local`
2. –ò–∑–º–µ–Ω–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ `npm run dev`

**–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞**: 
- –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Vercel/Railway/–≤–∞—à–µ–º —Ö–æ—Å—Ç–∏–Ω–≥–µ
- –°–¥–µ–ª–∞–π—Ç–µ redeploy

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –§–∞–π–ª—ã –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã:

- ‚úÖ `src/lib/theme-config.ts` - –Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ `src/app/page.tsx` - —É–±—Ä–∞–Ω `fetchTheme()`, –¥–æ–±–∞–≤–ª–µ–Ω `getThemeConfig()`
- ‚úÖ `src/app/menu/page.tsx` - —É–±—Ä–∞–Ω `fetchTheme()`, –¥–æ–±–∞–≤–ª–µ–Ω `getMenuThemeConfig()`
- ‚úÖ `src/components/BehindTheScenes.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω `loading="lazy"` –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–æ–∫

### –î—Ä—É–≥–∏–µ —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

1. **Lazy loading –∫–∞—Ä—Ç–∏–Ω–æ–∫** –≤ Behind The Scenes —Å–µ–∫—Ü–∏–∏
2. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ 1 —á–∞—Å** –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (`revalidate: 3600`)
3. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ 15 –º–∏–Ω—É—Ç** –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º–µ–Ω—é (`revalidate: 900`)

## ‚ùì FAQ

**Q: –ß—Ç–æ –µ—Å–ª–∏ —è —Ö–æ—á—É –≤–µ—Ä–Ω—É—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –ë–î?**  
A: –ú–æ–∂–Ω–æ, –Ω–æ —ç—Ç–æ –∑–∞–º–µ–¥–ª–∏—Ç —Å–∞–π—Ç. –ü—Ä–æ—Å—Ç–æ –≤–µ—Ä–Ω–∏—Ç–µ —Å—Ç–∞—Ä—ã–π –∫–æ–¥ –∏–∑ git –∏—Å—Ç–æ—Ä–∏–∏.

**Q: –ö–∞–∫ —á–∞—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–µ–º–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ?**  
A: –°—Ä–∞–∑—É –ø–æ—Å–ª–µ redeploy –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞.

**Q: –ù—É–∂–Ω–æ –ª–∏ –∫–æ–º–º–∏—Ç–∏—Ç—å `.env.local`?**  
A: **–ù–ï–¢!** –≠—Ç–æ—Ç —Ñ–∞–π–ª –≤ `.gitignore`. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ.

