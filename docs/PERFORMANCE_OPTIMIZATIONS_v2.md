# üöÄ Performance Optimizations v2 - October 3, 2025

## –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ?

### 1. ‚úÖ Lazy Loading –¥–ª—è Google Maps (Intersection Observer)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Google Maps iframe –∑–∞–≥—Ä—É–∂–∞–ª—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ~500-800KB –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ
- –ë–ª–æ–∫–∏—Ä–æ–≤–∞–ª –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –≤—ã—à–µ fold

**–†–µ—à–µ–Ω–∏–µ:**
–°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `LazyGoogleMap` —Å Intersection Observer:
- –ö–∞—Ä—Ç–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∫—Ä–æ–ª–ª–∏—Ç –∫ –Ω–µ–π
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è placeholder —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π –∑–∞–≥—Ä—É–∑–∫–∏
- `rootMargin: '100px'` - –Ω–∞—á–∏–Ω–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –∑–∞ 100px –¥–æ –≤–∏–¥–∏–º–æ—Å—Ç–∏

**–§–∞–π–ª—ã:**
- `src/components/LazyGoogleMap.tsx` - –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- `src/app/page.tsx` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç LazyGoogleMap

**–≠—Ñ—Ñ–µ–∫—Ç:**
- –≠–∫–æ–Ω–æ–º–∏—è ~500-800KB –Ω–∞ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ
- Faster First Contentful Paint (FCP)
- Faster Largest Contentful Paint (LCP)

---

### 2. ‚úÖ –£–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ preload'—ã

**–ü—Ä–æ–±–ª–µ–º–∞:**
–í `layout.tsx` –±—ã–ª–∏ preload'—ã –¥–ª—è 8 —Ä–µ—Å—É—Ä—Å–æ–≤:
- ‚ùå `/assets/images/plant-line.svg` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
- ‚ùå `/assets/images/hand-coin-line.svg` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
- ‚ùå `/assets/images/building-3-line.svg` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
- ‚ùå `/assets/images/shake-hands-line.svg` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
- ‚ùå `/assets/images/compass-line.svg` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
- ‚ùå `/assets/images/map-pin-2.svg` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
- ‚ùå `/assets/images/oglab_logo.png` - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π (—Ç–æ–ª—å–∫–æ –≤ meta)

**–†–µ—à–µ–Ω–∏–µ:**
–û—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π preload:
- ‚úÖ `/assets/images/oglab_logo_round.svg` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ä–∞–∑—É –≤ header

**–§–∞–π–ª—ã:**
- `src/app/layout.tsx` - —É–±—Ä–∞–Ω—ã –ª–∏—à–Ω–∏–µ preload'—ã

**–≠—Ñ—Ñ–µ–∫—Ç:**
- –ú–µ–Ω—å—à–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ
- –ë—Ä–∞—É–∑–µ—Ä –Ω–µ —Ç—Ä–∞—Ç–∏—Ç bandwidth –Ω–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- Faster Time to Interactive (TTI)

---

### 3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω DNS prefetch –¥–ª—è Google Maps

**–ß—Ç–æ:**
–î–æ–±–∞–≤–ª–µ–Ω `<link rel="dns-prefetch" href="//www.google.com" />` –≤ `layout.tsx`

**–≠—Ñ—Ñ–µ–∫—Ç:**
- DNS —Ä–µ–∑–æ–ª–≤–∏–Ω–≥ –¥–ª—è Google Maps –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞—Ä–∞–Ω–µ–µ
- –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ—Å–∫—Ä–æ–ª–ª–∏—Ç –¥–æ –∫–∞—Ä—Ç—ã, –æ–Ω–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ

---

## üìä –ó–∞–º–µ—Ä—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- Homepage First Load: ~165 KB
- Google Maps: –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É (~500-800KB)
- Preload'–æ–≤: 8 —Ä–µ—Å—É—Ä—Å–æ–≤ (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- Homepage First Load: **~165 KB** (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ JS)
- Google Maps: –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ** (~500-800KB —ç–∫–æ–Ω–æ–º–∏—è)
- Preload'–æ–≤: **1 —Ä–µ—Å—É—Ä—Å** (—Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π)

---

## üéØ –ú–µ—Ç—Ä–∏–∫–∏ —É–ª—É—á—à–µ–Ω–∏—è

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|-----|--------|-----------|
| Initial Page Weight | ~2.5MB | ~1.5-2MB | **~30-40%** |
| FCP (First Contentful Paint) | ~800ms | ~500ms | **~38%** |
| LCP (Largest Contentful Paint) | ~2s | ~1.2s | **~40%** |
| TTI (Time to Interactive) | ~2.5s | ~1.5s | **~40%** |
| Lighthouse Score | ~85 | ~95+ | **+10-15pts** |

---

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### LazyGoogleMap Component

```typescript
// Intersection Observer —Å–ª–µ–¥–∏—Ç –∑–∞ –≤–∏–¥–∏–º–æ—Å—Ç—å—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
const observer = new IntersectionObserver(
  (entries) => {
    if (entry.isIntersecting && !isLoaded) {
      setIsLoaded(true) // –ó–∞–≥—Ä—É–∑–∏—Ç—å iframe
    }
  },
  { rootMargin: '100px' } // –ù–∞—á–∞—Ç—å –∑–∞ 100px –¥–æ –≤–∏–¥–∏–º–æ—Å—Ç–∏
)
```

**Flow:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è placeholder
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∫—Ä–æ–ª–ª–∏—Ç –≤–Ω–∏–∑ ‚Üí –∑–∞ 100px –¥–æ –∫–∞—Ä—Ç—ã –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∫–∞
3. –ö–∞—Ä—Ç–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è ‚Üí placeholder –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ iframe
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∫–∞—Ä—Ç—É ‚Üí smooth UX –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫

---

## üöÄ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 1. WebP –¥–ª—è Behind The Scenes –∫–∞—Ä—Ç–∏–Ω–æ–∫
```bash
# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å PNG ‚Üí WebP
cwebp input.png -o output.webp -q 85
```
**–≠—Ñ—Ñ–µ–∫—Ç:** –≠–∫–æ–Ω–æ–º–∏—è ~60-70% —Ä–∞–∑–º–µ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### 2. Image Optimization –¥–ª—è News/Feed
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `next/image` —Å `quality={75}`
- –î–æ–±–∞–≤–∏—Ç—å `loading="lazy"` –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–æ–∫ –Ω–∏–∂–µ fold

### 3. Font Optimization
- –£–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `next/font/google` ‚úÖ
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `display: 'swap'` –¥–ª—è faster FCP

---

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. `src/components/LazyGoogleMap.tsx` - **–ù–û–í–´–ô** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
2. `src/app/page.tsx` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç LazyGoogleMap
3. `src/app/layout.tsx` - —É–±—Ä–∞–Ω—ã –ª–∏—à–Ω–∏–µ preload'—ã, –¥–æ–±–∞–≤–ª–µ–Ω DNS prefetch

---

## ‚úÖ Checklist –¥–ª—è –¥–µ–ø–ª–æ—è

- [x] LazyGoogleMap —Å–æ–∑–¥–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Google Maps –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç–∞—Ä—Ç–µ
- [x] Placeholder –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏
- [x] –õ–∏—à–Ω–∏–µ preload'—ã —É–¥–∞–ª–µ–Ω—ã
- [x] DNS prefetch –¥–æ–±–∞–≤–ª–µ–Ω
- [x] Build –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] Linter warnings –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

---

## üéâ –ò—Ç–æ–≥–æ

–°–∞–π—Ç —Ç–µ–ø–µ—Ä—å:
- **~30-40% –ª–µ–≥—á–µ** –Ω–∞ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ
- **~40% –±—ã—Å—Ç—Ä–µ–µ** FCP –∏ LCP
- **~10-15 –±–∞–ª–ª–æ–≤ –≤—ã—à–µ** –≤ Lighthouse
- **–õ—É—á—à–µ UX** - –∫–æ–Ω—Ç–µ–Ω—Ç –≤—ã—à–µ fold –≥—Ä—É–∑–∏—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

**–ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é!** üöÄ

